span(ng-if='layoutType == "tile"')
  .timeline.timeline--tile(
    infinite-scroll='tweets.nextPage()',
    infinite-scroll-distance='1',
    infinite-scroll-disabled='tweets.busy')
    .timeline__post.timeline__post--tile.col-lg-2.col-md-3.col-sm-4(ng-repeat='tweet in tweets.items')
      .timeline__post--image
        .point-triangle.point-triangle-rt(ng-if="tweet.picUrlList.length > 1")
          img.fade.timeline__post__image--tile(
            ng-if="!tweet.video_url",
            img-preload="img-preload",
            data-img-src="{{::tweet.picUrlList[0]}}",
            ng-src="{{::tweet.picUrlList[0]}}"
            tweet-id-str='{{::tweet.id_str}}',
            show-statuses="show-statuses")
        img.fade.timeline__post__image--tile(
          ng-if="!tweet.video_url && tweet.picUrlList.length == 1",
          img-preload="img-preload",
          data-img-src="{{::tweet.picUrlList[0]}}",
          ng-src="{{::tweet.picUrlList[0]}}",
          tweet-id-str='{{::tweet.id_str}}',
          show-statuses="show-statuses")
        video.timeline__post__video--tile(
          ng-if="tweet.video_url",
          poster="{{::tweet.picUrlList[0]}}",
          autoplay, loop, controls, muted)
          source(ng-src="{{::tweet.video_url | trusted}}", type="video/mp4")
      .timeline__header.timeline__header--tile
        .timeline__icon.timeline__icon--tile
          img.fade(
            ng-src="{{::tweet.user.profile_image_url_https}}",
            img-preload="img-preload",
            show-tweet="show-tweet",
            twitter-id-str="{{::tweet.user.id_str}}")
        .timeline__header__info--tile
          span.timeline__post--header--user(
            ng-if="!tweet.retweeted_status",
            twitter-id-str="{{::tweet.user.id_str}}",
            show-tweet="show-tweet") {{::tweet.user.screen_name}}
          span(ng-if="tweet.retweeted_status")
            i.fa.fa-retweet
          a(
            twitter-id-str="{{::tweet.retweeted_status.user.id_str}}",
            show-tweet="show-tweet") {{::tweet.retweeted_status.user.screen_name}}
          followable(
            ng-if='!tweet.followStatus && tweet.retweeted_status',
            list-id-str="{{listIdStr}}",
            twitter-id-str="{{tweet.retweeted_status.user.id_str}}",
            follow-status="tweet.followStatus")
          followable(
            ng-if='!tweet.followStatus && !tweet.retweeted_status',
            list-id-str="{{listIdStr}}",
            twitter-id-str="{{tweet.user.id_str}}",
            follow-status="tweet.followStatus")
      .timeline__post__footer
        .timeline__post__footer__controls
          i.fa.fa-retweet.icon-retweet(
            retweet-num="tweet.retweetNum",
            retweeted='tweet.retweeted',
            tweet-id-str='{{::tweet.tweetIdStr}}',
            retweetable='retweetable')  {{tweet.retweetNum}}
          i.fa.fa-heart.icon-heart(
            fav-num="tweet.favNum",
            favorited='tweet.favorited',
            tweet-id-str='{{::tweet.tweetIdStr}}',
            favoritable='favoritable')  {{tweet.favNum}}
          // aタグがないとtextとcontrolsの間の余白がなくなり、レイアウトが崩れる。
          a
            i.fa.fa-download(
              data-url="{{::tweet.picOrigUrlList}}",
              filename="{{::tweet.fileName}}",
              download-from-url='download-from-url')
  .loading-bar.loading-bar--grid
    include ../_loading_fin